{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAOC,SAASC,cAAc,SA4BpC,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAM,C,SAACF,E,MAAUC,GACjBE,EAAgBC,KAAKC,SAAW,GAErC,OAAO,IAAIC,SAAS,CAACC,EAASC,KAC7BC,YAAW,KACLN,EACHI,EAAQL,GAEPM,EAAON,EAAI,GAGZD,EAAM,G,CApCbL,EAAKc,iBAAiB,UAGtB,SAAsBC,GACpBA,EAAEC,iBAEF,IAAIC,EAAQC,OAAOlB,EAAKK,MAAMc,OAE9B,IAAI,IAAIC,EAAI,EAAGA,GAAKpB,EAAKqB,OAAOF,MAAOC,IACrCjB,EAAciB,EAAGH,GAChBK,MAAK,EAAClB,SAAEA,EAAQC,MAAEA,MACjBkB,EAAAzB,GAAS0B,OAAOC,QAAQ,uBAAqBrB,QAAiBC,MAAU,IAEzEqB,OAAM,EAACtB,SAAEA,EAAQC,MAAEA,MAClBkB,EAAAzB,GAAS0B,OAAOG,QAAQ,sBAAoBvB,QAAiBC,MAAU,IAGzEY,GAASC,OAAOlB,EAAK4B,KAAKT,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\n\nconst form = document.querySelector('.form');\n\n\n\nform.addEventListener('submit', onFormSubmit)\n\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  let delay = Number(form.delay.value)\n  \n  for(let i = 1; i <= form.amount.value; i++) {\n    createPromise(i, delay)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n\n    delay += Number(form.step.value);\n  \n }\n}\n\n\n\nfunction createPromise(position, delay) { \n  const obj = {position, delay}\n  const shouldResolve = Math.random() > 0.3;\n\n   return new Promise ((reselve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n       reselve(obj);\n      } else {\n        reject(obj)\n      }\n        \n    }, delay);\n  });\n\n \n  \n}\n\n\n\n\n// const promis = new Promise ((reselve, reject) => {\n//   const canFulfill = Math.random() > 0.5;\n\n//   setTimeout(() => {\n//     if(canFulfill) {\n//       reselve('Промис успешно выполниться, с результатом (исполнен, fulfilled)');\n\n//     }\n\n//     reject('Промис віполниться с ошибкой (отклонён, rejected)')\n//   }, 2000)\n// })\n\n// promis\n// .then(onFulfilld)\n// .then(x => {\n//   console.log(x);\n//   return 10;\n// })\n// .then (y => {\n//   console.log(y)\n// } )\n// .catch(error => console.log(error))\n// .finally(() => console.log(\"Я буду віполнен в любом случае\"))\n\n\n// function onFulfilld (result) {\n//   console.log('onFulfilld -> onFulfilld');\n//   console.log(`Well done ${result}`)\n// }\n\n// function onRejected(error) {\n//   console.log('onRejected -> onRejected')\n//   console.log(`Oh... its not okay ${error}`)\n// }"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","obj","shouldResolve","Math","random","Promise","reselve","reject","setTimeout","addEventListener","e","preventDefault","delay1","Number","value","i","amount","then","$parcel$interopDefault","Notify","success","catch","failure","step"],"version":3,"file":"03-promises.7d8a2214.js.map"}